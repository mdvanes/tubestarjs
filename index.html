<html>
  <head>
    <style>
      html,
      body {
        background-color: darkslategray;
        color: white;
        font-weight: bold;
        font-family: sans-serif;
        height: 100%;
        margin: 0;
      }

      main {
        display: flex;
        height: 100%;
        align-items: center;
      }

      main > ul {
        flex: 1;
        text-align: center;
      }
    </style>
    <title>Tubestar.js</title>
  </head>
  <body>
    <main>
      <ul>
        <li id="topic">
          topic:
          <span></span>
        </li>

        <li id="payload">
          payload:
          <span></span>
        </li>
      </ul>
    </main>

    <script type="text/javascript">
      const source = new EventSource("/events");

      source.addEventListener("message", (message) => {
        // console.log("Got", message);

        const { topic, payload } = JSON.parse(event.data);

        document.querySelector("#topic > span").innerHTML = topic;
        document.querySelector("#payload > span").innerHTML = payload;
      });
    </script>
  </body>
</html>
